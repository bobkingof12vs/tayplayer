{"version":3,"sources":["webpack:///./app/index.js","webpack:///./app/Components/frame.js","webpack:///./app/Components/help.js","webpack:///./app/Components/main.js","webpack:///./app/Components/nav.js","webpack:///./app/utils.js"],"names":["document","getElementById","Frame","props","state","changingStreams","stream","handleLaunchClick","bind","handleCloseClick","type","event","preventDefault","stopPropagation","setState","src","getSrc","closeFrame","id","top","left","width","height","zindex","mainRect","divx","divy","updateFrame","style","Math","round","zIndex","e","startMove","target","value","console","log","border","Help","opacity","fade","userSelect","margin","color","textDecoration","Main","frames","frameid","mouse","dir","defaultHeight","defaultWidth","newFrame","endMove","onMove","autoLayout","buildUrl","callback","rect","refs","main","getBoundingClientRect","Array","from","push","Date","now","floor","newFrames","map","curFrame","Object","assign","filter","i","y","x","h","w","window","addEventListener","frame","clientX","clientY","val","min","max","dx","dy","clamp","removeEventListener","count","length","bestx","besty","bestArea","area","j","splitWidth","splitHeight","curx","cury","newWidth","newHeight","_frame","index","streams","twitch","twitchChat","twitchVideo","youtube","youtubeChat","f","url","location","origin","pathname","join","tchat","tvideo","ychat","split","newQueryFrame","t","chat","screenupdate","lineHeight","Nav","link","select","newWindow","getParameterByName","name","href","replace","regex","RegExp","results","exec","decodeURIComponent"],"mappings":"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","file":"build/main.js","sourcesContent":["import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Main } from './Components/main';\n\r\nrender(\r\n  <Main />,\r\n  document.getElementById('app')\r\n);\r\n\r\n//known issues:\r\n//window resizing isn't handled verywell\r\n//quick fit causes spaces (probably due to rounding), doesn't use whole window, can make windows smaller than mins\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/index.js","import React, { Component } from 'react';\r\n\r\nexport class Frame extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      changingStreams: props.stream === \"\"\r\n    };\r\n    this.handleLaunchClick = this.handleLaunchClick.bind(this);\r\n    this.handleCloseClick = this.handleCloseClick.bind(this);\r\n  }\r\n\r\n  getSrc(){\r\n    if(this.props.type == \"twitch\")\r\n      return `https://player.twitch.tv/?channel=${this.props.stream}&muted=true&autoplay=true`;\r\n    if(this.props.type == \"twitchChat\")\r\n      return `https://www.twitch.tv/${this.props.stream}/chat`;\r\n    else if(this.props.type == \"twitchVideo\")\r\n      return `https://player.twitch.tv/?video=${this.props.stream}`;\r\n    else if(this.props.type == \"youtube\")\r\n      return `https://www.youtube.com/embed/${this.props.stream}?autoplay=1`\r\n    else if(this.props.type == \"youtubeChat\")\r\n      return `https://www.youtube.com/live_chat?v=${this.props.stream}&embed_domain=tayplay.tv`\r\n    else\r\n      return this.props.stream;\r\n  }\r\n\r\n  handleLaunchClick(event, changingStreams){\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.setState({changingStreams, src: this.getSrc()});\r\n  }\r\n\r\n  handleCloseClick(event){\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.props.closeFrame(this.props.id)\r\n  }\r\n\r\n  componentDidMount(){\r\n    if(!this.state.changingStreams)\r\n      this.setState({src: this.getSrc()});\r\n  }\r\n\r\n  render(){\r\n\r\n    let { id, src, top, left, width, height,  zindex, mainRect, divx, divy, updateFrame } = this.props;\r\n\r\n    let style={\r\n      top:    (Math.round(top    / divy) * divy) + \"px\",\r\n      left:   (Math.round(left   / divx) * divx) + \"px\",\r\n      height: (Math.round(height / divy) * divy) + \"px\",\r\n      width:  (Math.round(width  / divx) * divx) + \"px\",\r\n      zIndex: zindex\r\n    };\r\n\r\n    return <div className=\"frame\" style={style}>\r\n\r\n      <div className=\"frame_top\" onMouseDown={(e)=>this.props.startMove(e, id, 1, 1, 0, 0)}>\r\n        {\r\n          !this.state.changingStreams &&\r\n          <div className=\"frame_change\" onMouseDown={e=>e.stopPropagation()} onClick={(e)=>this.handleLaunchClick(e, true)}>change</div>\r\n        }\r\n        <div className=\"frame_close\" onMouseDown={e=>e.stopPropagation()} onClick={this.handleCloseClick} >close</div>\r\n      </div>\r\n\r\n      {\r\n        this.state.changingStreams &&\r\n        <div className=\"change_stream\">\r\n          <input className=\"stream_input\" placeholder=\"stream name\" value={this.props.stream} onChange={({target})=>updateFrame(id, {stream: target.value})}/>\r\n          <br />\r\n          <select\r\n            value={this.props.type}\r\n            onChange={({target})=>{console.log(target.value); updateFrame(id, {type: target.value})}}\r\n            className=\"stream_select\"\r\n          >\r\n            <optgroup label=\"watch\">\r\n              <option value=\"twitch\"      label=\"twitch stream\" />\r\n              <option value=\"twitchVideo\" label=\"twitch video (beta)\" />\r\n              <option value=\"youtube\"     label=\"youtube video/stream\" />\r\n            </optgroup>\r\n            <optgroup label=\"chat\">\r\n              <option value=\"twitchChat\"  label=\"twitch chat\" />\r\n              <option value=\"youtubeChat\" label=\"youtube chat\" />\r\n            </optgroup>\r\n          </select>\r\n          <br />\r\n          <div className=\"run_change\" onClick={(e)=>this.handleLaunchClick(e, false)}>\r\n            launch stream\r\n          </div>\r\n        </div>\r\n      }\r\n      {\r\n        !this.state.changingStreams && this.state.src &&\r\n        <iframe\r\n          className=\"video_frame\"\r\n          style={{border: \"none\"}}\r\n          src={this.state.src}\r\n          height={(Math.round(height / divy) * divy) - 18}\r\n          width={(Math.round(width / divx) * divx)}\r\n          frameBorder=\"0\"\r\n          scrolling=\"no\"\r\n          allowFullScreen=\"true\"\r\n        />\r\n      }\r\n\r\n      <div className=\"frame_left\"     onMouseDown={(e)=>this.props.startMove(e, id, 0, 1, 0, -1)}/>\r\n      <div className=\"frame_height\"   onMouseDown={(e)=>this.props.startMove(e, id, 0, 0, 1,  0)}/>\r\n      <div className=\"frame_width\"    onMouseDown={(e)=>this.props.startMove(e, id, 0, 0, 0,  1)}/>\r\n      <div className=\"frame_h_and_w\"  onMouseDown={(e)=>this.props.startMove(e, id, 0, 0, 1,  1)}/>\r\n      <div className=\"frame_w_and_h\"  onMouseDown={(e)=>this.props.startMove(e, id, 0, 1, 1, -1)}/>\r\n    </div>;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/Components/frame.js","import React, { Component } from 'react';\r\n\r\nexport const Help = (props) => {\r\n  return <div style={{opacity: props.fade ? \"\" : \"1\"}} className=\"help_text\">\r\n    <pre className=\"description\">\r\n      <span style={{userSelect: \"text\"}}>\r\n        the twitch and youtube player\r\n        <br />\r\n        <br />currently in beta, so please be kind\r\n        <br />issues should go to the <a href=\"https://github.com/bobkingof12vs/tayplayer\">github page</a>\r\n      </span>\r\n    </pre>\r\n    <pre style={{margin: 0}}>\r\n      <br /><br /><br /><br />\r\n      <span style={{userSelect: \"text\"}}>\r\n        <strong>directions:</strong>\r\n        <br />1. click the \"new window\" button in the top left\r\n        <br />2. pick your stream provider\r\n        <br />3. determine your stream (the underlined parts in the examples below)\r\n        <br />    <strong>- twitch stream/chat:</strong>\r\n        <br />        www.twitch.tv/<span style={{color: \"#aaa\", textDecoration: \"underline\"}}>basetradetv</span>\r\n        <br />    <strong>- twitch video:</strong>\r\n        <br />        www.twitch.tv/videos/<span style={{color: \"#aaa\", textDecoration: \"underline\"}}>147466582</span>\r\n        <br />    <strong>- youtube stream/video/chat:</strong>\r\n        <br />        www.youtube.com/watch?v=<span style={{color: \"#aaa\", textDecoration: \"underline\"}}>4qqRZnO5z3g</span>\r\n        <br />4. hit \"launch stream\"\r\n        <br />5. move and resize the stream\r\n        <br />   - move by dragging the top bar\r\n        <br />   - resize by grabbing the edges\r\n        <br />   - or simply hit the \"quick fit\" button up top\r\n        <br />6. share what you{\"'\"}re watching with the \"get link\" button\r\n      </span>\r\n    </pre>\r\n  </div>\r\n}\r\n\r\n//ave maria, gratia plena, dominus tecum\r\n//benedicta tu in mulieribus, et benedictus fructus ventris tui, iesus\r\n//sancta maria, mater dei, ora pro nobis peccatoribus, nunc, et in hora mortis nostrae\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/Components/help.js","import React, { Component } from 'react';\r\nimport { Nav } from './nav';\r\nimport { Frame } from './frame';\r\nimport { Help } from './help';\r\nimport { getParameterByName } from '../utils';\r\n\r\nexport class Main extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      frames: [],\r\n      frameid: null,\r\n      mouse: null,\r\n      dir: null,\r\n      zindex: 1,\r\n      divx: 1,\r\n      divy: 1\r\n    };\r\n\r\n    this.defaultHeight = 318;\r\n    this.defaultWidth = 400;\r\n\r\n    this.newFrame = this.newFrame.bind(this);\r\n    this.updateFrame = this.updateFrame.bind(this);\r\n    this.closeFrame = this.closeFrame.bind(this);\r\n    this.endMove = this.endMove.bind(this);\r\n    this.onMove = this.onMove.bind(this);\r\n    this.startMove = this.startMove.bind(this);\r\n    this.autoLayout = this.autoLayout.bind(this);\r\n    this.buildUrl = this.buildUrl.bind(this);\r\n  }\r\n\r\n  newFrame(callback = null){\r\n    let rect = this.refs.main.getBoundingClientRect();\r\n    let frames = Array.from(this.state.frames);\r\n    frames.push({\r\n      id: Date.now(),\r\n      top: Math.floor((rect.height / 2) - (this.defaultHeight / 2)),\r\n      left: Math.floor((rect.width / 2) - (this.defaultWidth / 2)),\r\n      height: this.defaultHeight,\r\n      width: this.defaultWidth,\r\n      zindex: this.state.zindex,\r\n      type: \"twitch\",\r\n      stream: \"\"\r\n    });\r\n    this.setState({frames, zindex: this.state.zindex + 1});\r\n  }\r\n\r\n  newQueryFrame(type, stream, zindex){\r\n    let rect = this.refs.main.getBoundingClientRect();\r\n    return {\r\n      id: zindex,\r\n      top: Math.floor((rect.height / 2) - (this.defaultHeight / 2)),\r\n      left: Math.floor((rect.width / 2) - (this.defaultWidth / 2)),\r\n      height: this.defaultHeight,\r\n      width: this.defaultWidth,\r\n      zindex: this.state.zindex,\r\n      type: type,\r\n      stream: stream\r\n    };\r\n  }\r\n\r\n  updateFrame(id, value){\r\n    let newFrames = this.state.frames.map(curFrame => {\r\n      if(curFrame.id == id)\r\n        return Object.assign({}, curFrame, value);\r\n      return Object.assign(curFrame);\r\n    });\r\n    this.setState({frames: newFrames});\r\n  }\r\n\r\n  closeFrame(id){\r\n    let newFrames = this.state.frames.filter(i => i.id != id);\r\n    this.setState({frames: newFrames});\r\n  }\r\n\r\n  startMove(event, id, y, x, h, w){\r\n    window.addEventListener(\"mousemove\", this.onMove);\r\n    window.addEventListener(\"mouseup\", this.endMove);\r\n    let newFrames = this.state.frames.map(curFrame => {\r\n      let frame = Object.assign(curFrame);\r\n      if(frame.id == id)\r\n        frame.zindex = this.state.zindex;\r\n      return frame;\r\n    });\r\n    this.setState({\r\n      frames: newFrames,\r\n      frameid: id,\r\n      mouse: { x: event.clientX, y: event.clientY },\r\n      dir:  { y, x, h, w },\r\n      zindex: this.state.zindex + 1\r\n    });\r\n  }\r\n\r\n  clamp(val, min, max){\r\n    return (val < min) ? min : (val > max ? max : (val));\r\n  }\r\n\r\n  onMove({clientX, clientY}){\r\n    const mainRect = this.refs.main.getBoundingClientRect();\r\n    const { frames, mouse, dir, frameid, divy } = this.state;\r\n\r\n    let dx = clientX - mouse.x;\r\n    let dy = clientY - mouse.y;\r\n\r\n    let newFrames = frames.map(curFrame => {\r\n      if(curFrame.id == frameid){\r\n        let newFrame = Object.assign(curFrame);\r\n        newFrame.top    = this.clamp(newFrame.top    + (dir.y * dy), divy,  mainRect.height - divy);\r\n        newFrame.left   = this.clamp(newFrame.left   + (dir.x * dx), 0,     mainRect.width  - 12);\r\n        newFrame.height = this.clamp(newFrame.height + (dir.h * dy), 175,   mainRect.height - divy - 18);\r\n        newFrame.width  = this.clamp(newFrame.width  + (dir.w * dx), 175,   mainRect.width);\r\n        return newFrame\r\n      }\r\n      return Object.assign(curFrame);\r\n    })\r\n    this.setState({\r\n      frames: newFrames,\r\n      mouse: { x: clientX, y: clientY },\r\n    });\r\n  }\r\n\r\n  endMove(){\r\n    window.removeEventListener(\"mousemove\", this.onMove);\r\n    this.setState({ mouse: null, dir:  null, frameid: null });\r\n  }\r\n\r\n  autoLayout(){\r\n    let count = this.state.frames.length;\r\n    let rect = this.refs.main.getBoundingClientRect();\r\n    let width = rect.width;\r\n    let height = rect.height - this.state.divy;\r\n\r\n    let bestx = 1, besty = 1, bestArea = 1, area;\r\n\r\n    for(let i = 1; i <= count; i++){\r\n      for(let j = 1; j <= count; j++){\r\n        if(i * j < count)\r\n          continue;\r\n\r\n        let splitWidth = width / i;\r\n        let splitHeight = height / j;\r\n\r\n        if(splitHeight > (splitWidth * (3/4)))\r\n          area = splitWidth * (splitWidth * (3/4));\r\n        else\r\n          area = splitHeight * (splitHeight * (4/3));\r\n\r\n        if((area * count) > bestArea){\r\n          bestx = i;\r\n          besty = j;\r\n          bestArea = area * count;\r\n        }\r\n      }\r\n    }\r\n\r\n    let curx = -1, cury = 0;\r\n    const {divx, divy} = this.state;\r\n    let newWidth = Math.round((width / bestx) / divx) * divx;\r\n    let newHeight = Math.round((height / besty) / divy) * divy;\r\n    let newFrames = this.state.frames.map((_frame, index) => {\r\n      let frame = Object.assign({}, _frame);\r\n      curx++;\r\n      if(curx >= bestx){\r\n        cury++;\r\n        curx = 0;\r\n      }\r\n\r\n      frame.top = (cury * newHeight) + this.state.divy;\r\n      frame.height = newHeight;\r\n      frame.left = curx * newWidth;\r\n      frame.width = ((index == this.state.frames.length - 1) ?  (bestx - curx) : 1 ) * newWidth;\r\n\r\n      return frame;\r\n    })\r\n\r\n    this.setState({frames: newFrames});\r\n  }\r\n\r\n  buildUrl(){\r\n    let streams={ twitch:[], twitchChat:[], twitchVideo:[], youtube:[], youtubeChat:[] };\r\n    this.state.frames.map(f => f.stream !== \"\" && streams[f.type].push(f.stream));\r\n\r\n    let url = window.location.origin+window.location.pathname+\"?\";\r\n    if(streams.twitch.length > 0)\r\n      url += \"twitch=\"+streams.twitch.join(',')+\"&\";\r\n    if(streams.twitchChat.length > 0)\r\n      url += \"tchat=\"+streams.twitchChat.join(',')+\"&\";\r\n    if(streams.twitchVideo.length > 0)\r\n      url += \"tvideo=\"+streams.twitchVideo.join(',')+\"&\";\r\n    if(streams.youtube.length > 0)\r\n      url += \"youtube=\"+streams.youtube.join(',')+\"&\";\r\n    if(streams.youtubeChat.length > 0)\r\n      url += \"ychat=\"+streams.youtubeChat.join(',');\r\n    return url;\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    let twitch = getParameterByName(\"twitch\");\r\n    let tchat = getParameterByName(\"tchat\");\r\n    let tvideo = getParameterByName(\"tvideo\");\r\n    let youtube = getParameterByName(\"youtube\");\r\n    let ychat = getParameterByName(\"ychat\");\r\n\r\n    let frames = [], zindex = 1;\r\n    twitch  && twitch .split(',').map(t => frames.push(this.newQueryFrame(\"twitch\",      t, zindex++)));\r\n    tchat   && twitch .split(',').map(t => frames.push(this.newQueryFrame(\"twitchChat\",  t, zindex++)));\r\n    tvideo  && tvideo .split(',').map(t => frames.push(this.newQueryFrame(\"twitchVideo\", t, zindex++)));\r\n    youtube && youtube.split(',').map(t => frames.push(this.newQueryFrame(\"youtube\",     t, zindex++)));\r\n    ychat   && chat   .split(',').map(t => frames.push(this.newQueryFrame(\"youtubeChat\", t, zindex++)));\r\n    this.setState({frames, zindex});\r\n\r\n    let screenupdate = (callback = ()=>{}) => {\r\n      let rect = this.refs.main.getBoundingClientRect();\r\n      let divx = rect.width / Math.floor(rect.width / 25);\r\n      let divy = rect.width / Math.floor(rect.width / 25);\r\n      this.setState({divx, divy}, callback);\r\n    }\r\n    screenupdate(this.autoLayout);\r\n    window.addEventListener(\"onresize\", screenupdate);\r\n  }\r\n\r\n  render(){\r\n    return <div id=\"main\" ref=\"main\" onMouseUp={this.endMove}>\r\n      <Help fade={this.state.frames.length != 0}/>\r\n      <Nav\r\n        style={{height: `${this.state.divy}px`, lineHeight: `${this.state.divy}px`}}\r\n        newWindow={this.newFrame}\r\n        autoLayout={this.autoLayout}\r\n        buildUrl={this.buildUrl}\r\n      />\r\n      {this.state.frames.map(frame => {\r\n        return <Frame\r\n            key={frame.id}\r\n            {...frame}\r\n            divx={this.state.divx}\r\n            divy={this.state.divy}\r\n            updateFrame={this.updateFrame}\r\n            closeFrame={this.closeFrame}\r\n            startMove={this.startMove}\r\n            mainRect={this.refs.main.getBoundingClientRect()}\r\n          />\r\n      })}\r\n      {\r\n        this.state.dir !== null &&\r\n        <div className=\"blocker\" ></div>\r\n      }\r\n    </div>;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/Components/main.js","import React, { Component } from 'react';\r\n\r\nexport class Nav extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = { link: \"\" };\r\n  }\r\n\r\n  link(){\r\n    this.setState({link: this.props.buildUrl()}, ()=>this.refs.link.select());\r\n  }\r\n\r\n  render(){\r\n    return <div style={this.props.style} className=\"nav_bar\">\r\n      <span\r\n        className=\"nav_item\"\r\n        onClick={this.props.newWindow}\r\n      >new window</span>\r\n      <span\r\n        className=\"nav_item\"\r\n        onClick={this.props.autoLayout}\r\n      >quick fit</span>\r\n      <span\r\n        className=\"nav_item\"\r\n        onClick={()=>this.link()}\r\n      >get link</span>\r\n      <input type=\"text\" ref=\"link\" className=\"share_link\" value={this.state.link} />\r\n    </div>;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/Components/nav.js","//https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\r\nexport function getParameterByName(name, url) {\r\n    if (!url) url = window.location.href;\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\r\n        results = regex.exec(url);\r\n    if (!results) return null;\r\n    if (!results[2]) return '';\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/utils.js"],"sourceRoot":""}